<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Equiv</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Equiv</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CastMonad.html#"><span class="id" title="library">CastMonad</span></a> <a class="idref" href="Showable.html#"><span class="id" title="library">Showable</span></a> <a class="idref" href="Decidable.html#"><span class="id" title="library">Decidable</span></a> <a class="idref" href="HoTT.html#"><span class="id" title="library">HoTT</span></a> <a class="idref" href="PreOrder.html#"><span class="id" title="library">PreOrder</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab34"></a><h1 class="section">Equivalences (first-order)</h1>

<div class="paragraph"> </div>

<a name="lab35"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="Equiv.html#Functor"><span class="id" title="record">Functor</span></a></span> class</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="compose"><span class="id" title="definition">compose</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">&quot;</span></a>g ° f" := (<a class="idref" href="Equiv.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1).<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="Functor"><span class="id" title="record">Functor</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">relA</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<span class="id" title="var">relB</span> : <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span>:<a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) := <br/>
&nbsp;&nbsp;{ <a name="ap"><span class="id" title="projection">ap</span></a> :<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="Equiv.html#relA"><span class="id" title="variable">relA</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Equiv.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#relB"><span class="id" title="variable">relB</span></a> (<a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#y"><span class="id" title="variable">y</span></a>)}.<br/>

<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="FunctorOnEq"><span class="id" title="instance">FunctorOnEq</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">f</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="Equiv.html#Functor"><span class="id" title="class">Functor</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">ap</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">x</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">y</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">e</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">⇒</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">HoTT.ap</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">f</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">e</span></a> |}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab36"></a><h2 class="section">Type equivalence</h2>

<div class="paragraph"> </div>

 A typeclass that includes the data making <span class="inlinecode"><a class="idref" href="CastMonad.html#f"><span class="id" title="variable">f</span></a></span> into an adjoint equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="IsEquiv"><span class="id" title="record">IsEquiv</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) := <a name="BuildIsEquiv"><span class="id" title="constructor">BuildIsEquiv</span></a> {<br/>
&nbsp;&nbsp;<a name="e_inv"><span class="id" title="projection">e_inv</span></a> : <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> ;<br/>
&nbsp;&nbsp;<a name="e_sect"><span class="id" title="projection">e_sect</span></a> : <a class="idref" href="Equiv.html#e_inv"><span class="id" title="method">e_inv</span></a> <a class="idref" href="Equiv.html#91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.html#bec439b36d449155cf4821d64d620d15"><span class="id" title="notation">==</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>;<br/>
&nbsp;&nbsp;<a name="e_retr"><span class="id" title="projection">e_retr</span></a> : <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">°</span></a> <a class="idref" href="Equiv.html#e_inv"><span class="id" title="method">e_inv</span></a> <a class="idref" href="HoTT.html#bec439b36d449155cf4821d64d620d15"><span class="id" title="notation">==</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>;<br/>
&nbsp;&nbsp;<a name="e_adj"><span class="id" title="projection">e_adj</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>, <a class="idref" href="Equiv.html#e_retr"><span class="id" title="method">e_retr</span></a> (<a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Equiv.html#e_sect"><span class="id" title="method">e_sect</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a>)<br/>
}.<br/>

<br/>
</div>

<div class="doc">
A class that includes all the data of an adjoint equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a name="Equiv"><span class="id" title="record">Equiv</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> := <a name="BuildEquiv"><span class="id" title="constructor">BuildEquiv</span></a> {<br/>
&nbsp;&nbsp;<a name="e_fun"><span class="id" title="projection">e_fun</span></a> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> ;<br/>
&nbsp;&nbsp;<a name="e_isequiv"><span class="id" title="projection">e_isequiv</span></a> : <a class="idref" href="Equiv.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> <a class="idref" href="Equiv.html#e_fun"><span class="id" title="method">e_fun</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">&quot;</span></a>A ≃ B" := (<a class="idref" href="Equiv.html#Equiv"><span class="id" title="record">Equiv</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab37"></a><h2 class="section">Partial Equivalences</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <a name="FunctorOnPreorder"><span class="id" title="instance">FunctorOnPreorder</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> `{<a class="idref" href="PreOrder.html#PreOrder_p"><span class="id" title="class">PreOrder_p</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>} `{<a class="idref" href="PreOrder.html#PreOrder_p"><span class="id" title="class">PreOrder_p</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="PreOrder.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Equiv.html#Functor"><span class="id" title="class">Functor</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">ap</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">x</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">y</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">e</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">⇒</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">f</span></a><a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">.(</span></a><a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">mon</span></a><a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">)</span></a> <a class="idref" href="Equiv.html#Build_Functor"><span class="id" title="constructor">e</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Hint Extern</span> 1 (<a class="idref" href="Equiv.html#Functor"><span class="id" title="class">Functor</span></a> ?<span class="id" title="var">X</span> ?<span class="id" title="var">Y</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">f</span>) ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="Equiv.html#FunctorOnPreorder"><span class="id" title="instance">FunctorOnPreorder</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="IsPartialEquiv"><span class="id" title="record">IsPartialEquiv</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>} `{<a class="idref" href="PreOrder.html#PreOrder_p"><span class="id" title="class">PreOrder_p</span></a> <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a>} `{<a class="idref" href="PreOrder.html#PreOrder_p"><span class="id" title="class">PreOrder_p</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>} (<span class="id" title="var">f</span>:<a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="PreOrder.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;:= {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pe_inv"><span class="id" title="projection">pe_inv</span></a> :  <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="PreOrder.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pe_sect"><span class="id" title="projection">pe_sect</span></a> : <a class="idref" href="Equiv.html#pe_inv"><span class="id" title="method">pe_inv</span></a> <a class="idref" href="Equiv.html#91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pe_retr"><span class="id" title="projection">pe_retr</span></a> : <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">°</span></a> <a class="idref" href="Equiv.html#pe_inv"><span class="id" title="method">pe_inv</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pe_adj"><span class="id" title="projection">pe_adj</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Unicode.Utf8_core.html#669c7d28e8f98524b0cbba08d17d0eec"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Unicode.Utf8_core.html#669c7d28e8f98524b0cbba08d17d0eec"><span class="id" title="notation">,</span></a> <a class="idref" href="Equiv.html#pe_retr"><span class="id" title="method">pe_retr</span></a> (<a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Equiv.html#pe_sect"><span class="id" title="method">pe_sect</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="CanonicalPartialEquiv"><span class="id" title="record">CanonicalPartialEquiv</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> `{<a class="idref" href="PreOrder.html#PreOrder_p"><span class="id" title="class">PreOrder_p</span></a> <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a>} `{<a class="idref" href="PreOrder.html#PreOrder_p"><span class="id" title="class">PreOrder_p</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>} := {<br/>
&nbsp;&nbsp;<a name="pe_fun"><span class="id" title="projection">pe_fun</span></a> : <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="PreOrder.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a> ;<br/>
&nbsp;&nbsp;<a name="pe_isequiv"><span class="id" title="projection">pe_isequiv</span></a> : <a class="idref" href="Equiv.html#IsPartialEquiv"><span class="id" title="class">IsPartialEquiv</span></a> <a class="idref" href="Equiv.html#pe_fun"><span class="id" title="method">pe_fun</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="1b1065687a97ce13c7f6f0bde3cb8574"><span class="id" title="notation">&quot;</span></a>A ≃? B" := (<a class="idref" href="Equiv.html#CanonicalPartialEquiv"><span class="id" title="class">CanonicalPartialEquiv</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>
</div>

<div class="doc">
<a name="lab38"></a><h2 class="section">Partial Kleisli Equivalences</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

A monotone function <span class="inlinecode"><a class="idref" href="CastMonad.html#f"><span class="id" title="variable">f</span></a>:</span> <span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="CastMonad.html#B"><span class="id" title="variable">B</span></a></span> is a partial equivalence <span class="inlinecode"><span class="id" title="var">PartialEquiv</span></span> if some
of the <span class="inlinecode"><a class="idref" href="CastMonad.html#b"><span class="id" title="variable">b</span></a>:</span> <span class="inlinecode"><a class="idref" href="CastMonad.html#B"><span class="id" title="variable">B</span></a></span> maps back to the same <span class="inlinecode"><a class="idref" href="CastMonad.html#a"><span class="id" title="variable">a</span></a>:</span> <span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span> they come from. Think of
<span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span> as being a refinement of <span class="inlinecode"><a class="idref" href="CastMonad.html#B"><span class="id" title="variable">B</span></a></span> and <span class="inlinecode"><a class="idref" href="CastMonad.html#f"><span class="id" title="variable">f</span></a></span> as dropping the refinement:
not all <span class="inlinecode"><a class="idref" href="CastMonad.html#B"><span class="id" title="variable">B</span></a></span>'s are valid <span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span>'s but the one which are can easily be
mapped back to <span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span>.

<div class="paragraph"> </div>

 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="compV"><span class="id" title="definition">compV</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span>:<a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>} {<span class="id" title="var">g</span> <span class="id" title="var">g'</span> : <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Z"><span class="id" title="variable">Z</span></a>} : <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="Equiv.html#f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="Equiv.html#g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#f'"><span class="id" title="variable">f'</span></a><a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">)</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Notation</span> <a name="21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">&quot;</span></a>f °V g" := (<a class="idref" href="Equiv.html#compV"><span class="id" title="definition">compV</span></a> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="definition">α</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">T</span>} (<span class="id" title="var">f</span>:<a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>) (<span class="id" title="var">g</span>:<a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Z"><span class="id" title="variable">Z</span></a>) (<span class="id" title="var">h</span>:<a class="idref" href="Equiv.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#T"><span class="id" title="variable">T</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">)</span></a><a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">)</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">(</span></a><a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">)</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="idR"><span class="id" title="definition">idR</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>} (<span class="id" title="var">f</span>:<a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">(</span></a><a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">)</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="idL"><span class="id" title="definition">idL</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>} (<span class="id" title="var">f</span>:<a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a><a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">)</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>.<br/>
 
<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">&quot;</span></a>f °H g" := (<a class="idref" href="PreOrder.html#rel_trans"><span class="id" title="method">rel_trans</span></a> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="9175b69349b636ed59f451d3dae767b6"><span class="id" title="notation">&quot;</span></a>'idK' f" := (<a class="idref" href="PreOrder.html#rel_refl"><span class="id" title="method">rel_refl</span></a> <span class="id" title="var">f</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60).<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="IsPartialEquivK"><span class="id" title="record">IsPartialEquivK</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>} (<span class="id" title="var">f</span>:<a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;:= {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pek_inv"><span class="id" title="projection">pek_inv</span></a> :  <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pek_sect"><span class="id" title="projection">pek_sect</span></a> : <a class="idref" href="Equiv.html#pek_inv"><span class="id" title="method">pek_inv</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pek_retr"><span class="id" title="projection">pek_retr</span></a> : <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#pek_inv"><span class="id" title="method">pek_inv</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="pek_adj"><span class="id" title="projection">pek_adj</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#pek_sect"><span class="id" title="method">pek_sect</span></a> <a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">°</span></a><a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">V</span></a> <a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#9175b69349b636ed59f451d3dae767b6"><span class="id" title="notation">idK</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">)</span></a><a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">)</span></a> <a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">°</span></a><a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">H</span></a> <a class="idref" href="Equiv.html#idL"><span class="id" title="definition">idL</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Equiv.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="definition">α</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">°</span></a><a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">H</span></a> <a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#9175b69349b636ed59f451d3dae767b6"><span class="id" title="notation">idK</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">)</span></a> <a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">°</span></a><a class="idref" href="Equiv.html#21bc8d7f94796be92f8a6add2d506b2f"><span class="id" title="notation">V</span></a> <a class="idref" href="Equiv.html#pek_retr"><span class="id" title="method">pek_retr</span></a><a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">)</span></a> <a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">°</span></a><a class="idref" href="Equiv.html#424f21a3802d670e1bcb06dadc684f75"><span class="id" title="notation">H</span></a> <a class="idref" href="Equiv.html#idR"><span class="id" title="definition">idR</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="PartialEquivK"><span class="id" title="record">PartialEquivK</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := {<br/>
&nbsp;&nbsp;<a name="pek_fun"><span class="id" title="projection">pek_fun</span></a> : <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#Y"><span class="id" title="variable">Y</span></a> ;<br/>
&nbsp;&nbsp;<a name="pek_isequiv"><span class="id" title="projection">pek_isequiv</span></a> : <a class="idref" href="Equiv.html#IsPartialEquivK"><span class="id" title="class">IsPartialEquivK</span></a> <a class="idref" href="Equiv.html#pek_fun"><span class="id" title="method">pek_fun</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="a00bf531e446d98af3e6b3f633d0b4e4"><span class="id" title="notation">&quot;</span></a>A ≃?K B" := (<a class="idref" href="Equiv.html#PartialEquivK"><span class="id" title="record">PartialEquivK</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>

<br/>
</div>

<div class="doc">
  Sanity Check: lifting an equivalance yields 
  a partial equivalence in the Kleisli category

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="concat_1p"><span class="id" title="definition">concat_1p</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">p</span> : <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#y"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="HoTT.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="concat_p1"><span class="id" title="definition">concat_p1</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">p</span> : <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#y"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="HoTT.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ap_compose"><span class="id" title="definition">ap_compose</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">p</span> : <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#y"><span class="id" title="variable">y</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> (<a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="Equiv.html#91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> <a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#p"><span class="id" title="variable">p</span></a>).<br/>
 
<br/>
<span class="id" title="keyword">Definition</span> <a name="transport_bind"><span class="id" title="definition">transport_bind</span></a> <span class="id" title="var">A</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">e</span>:<a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><a class="idref" href="Equiv.html#y"><span class="id" title="variable">y</span></a>)  <span class="id" title="var">B</span> (<span class="id" title="var">f</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="HoTT.html#transport"><span class="id" title="definition">transport</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Unicode.Utf8_core.html#e347aba07034a66189f14f85f0430e87"><span class="id" title="notation">λ</span></a> <span class="id" title="var">X</span> : <a class="idref" href="CastMonad.html#Cast"><span class="id" title="abbreviation">Cast</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Unicode.Utf8_core.html#e347aba07034a66189f14f85f0430e87"><span class="id" title="notation">,</span></a> <a class="idref" href="CastMonad.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">b</span> <a class="idref" href="CastMonad.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="CastMonad.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">;</span></a> <a class="idref" href="CastMonad.html#clift"><span class="id" title="definition">clift</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> <a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a> <a class="idref" href="Equiv.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> <a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a> (<a class="idref" href="Equiv.html#ap"><span class="id" title="method">ap</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Equiv.html#e"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="EquivToPartialEquivK"><span class="id" title="definition">EquivToPartialEquivK</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">f</span> :<a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">H</span> :<a class="idref" href="Equiv.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>) : <a class="idref" href="Equiv.html#IsPartialEquivK"><span class="id" title="class">IsPartialEquivK</span></a> (<a class="idref" href="CastMonad.html#clift"><span class="id" title="definition">clift</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="8e0902a5e6df5e2a858a0750f5297a93"><span class="id" title="abbreviation">π1</span></a> := (@<a class="idref" href="HoTT.html#projT1"><span class="id" title="definition">projT1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

we have a subset equivalence between <span class="inlinecode"><a class="idref" href="CastMonad.html#B"><span class="id" title="variable">B</span></a></span> and <span class="inlinecode">{<a class="idref" href="CastMonad.html#C"><span class="id" title="variable">C</span></a>,<a class="idref" href="DepEquiv.html#P"><span class="id" title="projection">P</span></a>}</span>
if the type family <span class="inlinecode"><a class="idref" href="CastMonad.html#B"><span class="id" title="variable">B</span></a></span> is isomorphic with a (computationally-relevant)
type <span class="inlinecode"><a class="idref" href="CastMonad.html#C"><span class="id" title="variable">C</span></a></span> and a (computationally-irrelevant) relation <span class="inlinecode"><a class="idref" href="DepEquiv.html#P"><span class="id" title="projection">P</span></a></span>, ie.

<div class="paragraph"> </div>

<pre>
     [B a ≅ { c : C &amp; P a c }]
</pre>

<div class="paragraph"> </div>

Remarks: 

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="CastMonad.html#C"><span class="id" title="variable">C</span></a></span> is non-dependent in <span class="inlinecode"><a class="idref" href="CastMonad.html#a"><span class="id" title="variable">a</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span>, by definition.

<div class="paragraph"> </div>


</li>
<li> Usually, <span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span> plays the role of the indices, <span class="inlinecode"><a class="idref" href="CastMonad.html#B"><span class="id" title="variable">B</span></a></span> is an inductive
   family indexed over <span class="inlinecode"><a class="idref" href="CastMonad.html#A"><span class="id" title="variable">A</span></a></span>. <span class="inlinecode"><a class="idref" href="CastMonad.html#C"><span class="id" title="variable">C</span></a></span> are the "raw", computational terms
   while <span class="inlinecode"><a class="idref" href="DepEquiv.html#P"><span class="id" title="projection">P</span></a></span> is a validity predicate.

</li>
</ul>

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="to_subset"><span class="id" title="definition">to_subset</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">P</span>} `{<span class="id" title="keyword">Show</span> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a>} `{<span class="id" title="keyword">∀</span> <span class="id" title="var">c</span>, <a class="idref" href="Decidable.html#CheckableProp"><span class="id" title="class">CheckableProp</span></a> (<a class="idref" href="Equiv.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Equiv.html#c"><span class="id" title="variable">c</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">{</span></a><span class="id" title="var">c</span><a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">:</span></a><a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="Equiv.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">c</span><a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">}</span></a><a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">)</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Decidable.html#dec"><span class="id" title="definition">dec</span></a> (@<a class="idref" href="Decidable.html#checkP"><span class="id" title="method">checkP</span></a> <span class="id" title="var">_</span> <a class="idref" href="Decidable.html#check"><span class="id" title="method">check</span></a>) <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="CastMonad.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="HoTT.html#6135e546f0329dbebe21f0a32ce243ef"><span class="id" title="notation">(</span></a><a class="idref" href="Equiv.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="HoTT.html#6135e546f0329dbebe21f0a32ce243ef"><span class="id" title="notation">;</span></a> <a class="idref" href="Decidable.html#convert"><span class="id" title="method">convert</span></a> <span class="id" title="var">p</span><a class="idref" href="HoTT.html#6135e546f0329dbebe21f0a32ce243ef"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="CastMonad.html#Fail"><span class="id" title="constructor">Fail</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CastMonad.html#Cast_info_wrap"><span class="id" title="definition">Cast_info_wrap</span></a> (<a class="idref" href="Showable.html#show"><span class="id" title="method">show</span></a> <a class="idref" href="Equiv.html#c"><span class="id" title="variable">c</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="HSet_HProp"><span class="id" title="instance">HSet_HProp</span></a> <span class="id" title="var">X</span> `{<a class="idref" href="HoTT.html#IsHSet"><span class="id" title="class">IsHSet</span></a> <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a>} : <span class="id" title="keyword">∀</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Equiv.html#X"><span class="id" title="variable">X</span></a>), <a class="idref" href="HoTT.html#IsHProp"><span class="id" title="class">IsHProp</span></a> (<a class="idref" href="Equiv.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Equiv.html#b"><span class="id" title="variable">b</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="HoTT.html#is_hprop"><span class="id" title="definition">is_hprop</span></a> (<span class="id" title="var">IsHProp</span> := <a class="idref" href="HoTT.html#isHSet"><span class="id" title="method">isHSet</span></a> <a class="idref" href="Equiv.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Equiv.html#b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a name="Checkable_PartialEquivK"><span class="id" title="definition">Checkable_PartialEquivK</span></a> <span class="id" title="var">C</span> <span class="id" title="var">P</span> `{<span class="id" title="keyword">Show</span> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="keyword">∀</span> <span class="id" title="var">c</span>, <a class="idref" href="Decidable.html#CheckableProp"><span class="id" title="class">CheckableProp</span></a> (<a class="idref" href="Equiv.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Equiv.html#c"><span class="id" title="variable">c</span></a>)} `{<a class="idref" href="HoTT.html#IsHSet"><span class="id" title="class">IsHSet</span></a> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="Equiv.html#PartialEquivK"><span class="id" title="record">PartialEquivK</span></a> <a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">{</span></a><span class="id" title="var">c</span><a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">:</span></a><a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="Equiv.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">c</span><a class="idref" href="HoTT.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">}</span></a> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">pek_fun</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">:=</span></a>  <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">(</span></a><a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">clift</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">π1</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">:</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">{</span></a><a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">c</span></a><a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">:</span></a><a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">C</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">&amp;</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">P</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">c</span></a><a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">}</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">⇀</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">C</span></a><a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">pek_isequiv</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">pek_inv</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">to_subset</span></a> <a class="idref" href="Equiv.html#Build_PartialEquivK"><span class="id" title="constructor">|}</span></a>|}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab39"></a><h2 class="section">Injective functions (model constructors)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a name="IsInjective"><span class="id" title="record">IsInjective</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="i_inv"><span class="id" title="projection">i_inv</span></a> : <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="CastMonad.html#b0a571a86a79f6fa1f9d3d5ff389bd19"><span class="id" title="notation">⇀</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="i_sect"><span class="id" title="projection">i_sect</span></a> : <a class="idref" href="Equiv.html#i_inv"><span class="id" title="method">i_inv</span></a> <a class="idref" href="Equiv.html#91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.html#bec439b36d449155cf4821d64d620d15"><span class="id" title="notation">==</span></a> <a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="i_retr"><span class="id" title="projection">i_retr</span></a> : <a class="idref" href="CastMonad.html#clift"><span class="id" title="definition">clift</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="CastMonad.html#f3b9de2ded9bf79c83ac6fdf57a12a1a"><span class="id" title="notation">°°</span></a> <a class="idref" href="Equiv.html#i_inv"><span class="id" title="method">i_inv</span></a> <a class="idref" href="PreOrder.html#46f77f4d37da9df3da8d4702a9d3eb7e"><span class="id" title="notation">≼</span></a> <a class="idref" href="CastMonad.html#creturn"><span class="id" title="definition">creturn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="b0009fb4a4bae22d97f83cddef8bc4db"><span class="id" title="notation">&quot;</span></a>f ^?-1" := (@<a class="idref" href="Equiv.html#i_inv"><span class="id" title="method">i_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3, <span class="id" title="var">format</span> "f '^?-1'").<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="Injective_comp"><span class="id" title="instance">Injective_comp</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="Equiv.html#IsInjective"><span class="id" title="class">IsInjective</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>} `{<a class="idref" href="Equiv.html#IsInjective"><span class="id" title="class">IsInjective</span></a> <a class="idref" href="Equiv.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Equiv.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="Equiv.html#IsInjective"><span class="id" title="class">IsInjective</span></a> (<a class="idref" href="Equiv.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="Equiv.html#91f7f6c2bd7b26cadbd688a4dc871695"><span class="id" title="notation">°</span></a> <a class="idref" href="Equiv.html#f"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;:= {| <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">i_inv</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">(</span></a><a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">f</span></a><a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">^?-1</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">°°</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">g</span></a><a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">^?-1)</span></a> |}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab40"></a><h3 class="section">Instances of IsInjective</h3>

<div class="paragraph"> </div>

 The identity is an injection : 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="IsInjective_id"><span class="id" title="definition">IsInjective_id</span></a> {<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>}: <a class="idref" href="Equiv.html#IsInjective"><span class="id" title="class">IsInjective</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Equiv.html#A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
The predecessor over natural numbers is a partial equivalence: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="S_inv"><span class="id" title="definition">S_inv</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Equiv.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="CastMonad.html#Fail"><span class="id" title="constructor">Fail</span></a> <span class="id" title="var">_</span> (<a class="idref" href="CastMonad.html#Cast_info_wrap"><span class="id" title="definition">Cast_info_wrap</span></a> "invalid index")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> ⇒ <a class="idref" href="CastMonad.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="IsInjective_S"><span class="id" title="instance">IsInjective_S</span></a>: <a class="idref" href="Equiv.html#IsInjective"><span class="id" title="class">IsInjective</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">i_inv</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">S_inv</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">:</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">nat</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">→</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">Cast</span></a> <a class="idref" href="Equiv.html#Build_IsInjective"><span class="id" title="constructor">nat</span></a> |}.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>